<!DOCTYPE html>
<html>
  <head>
    <title>TikTok Live Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="m-0 font-sans bg-gray-100">
    <div
      id="usernameModal"
      class="fixed inset-0 bg-black/80 flex items-center justify-center z-50"
    >
      <div class="bg-white p-8 rounded-xl text-center w-96">
        <h2 class="text-2xl mb-4">Enter TikTok Username</h2>
        <input
          type="text"
          id="usernameInput"
          class="w-full px-4 py-2 mb-4 border-2 border-gray-300 rounded-lg"
          placeholder="e.g., tiktokuser"
        />
        <button
          class="bg-pink-500 text-white px-6 py-2 rounded-lg hover:bg-pink-600 transition-colors"
          onclick="connectToLive()"
        >
          Connect
        </button>
        <p id="errorMsg" class="text-red-500 mt-2 hidden">
          Invalid username or stream offline
        </p>
      </div>
    </div>

    <div id="dashboard" class="hidden">
      <h1 class="text-3xl text-center my-8 text-gray-800 font-bold">
        Live Stream Analytics
      </h1>

      <div class="max-w-6xl mx-auto px-4 space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-[3fr_2fr] gap-6">
          <!-- Left Column -->
          <div class="space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-md">
              <h2 class="text-xl font-semibold mb-4">Recent Comments</h2>
              <div
                id="comments"
                class="h-[300px] overflow-y-auto space-y-2"
              ></div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <h2 class="text-xl font-semibold mb-4">
                Top Likers (Copy Format)
              </h2>
              <div id="copyLikers" class="flex flex-wrap gap-3">
                <!-- Repeat for each liker -->
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText1"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText1')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText2"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText2')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText3"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText3')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText4"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText4')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText5"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText5')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText6"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText6')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText7"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText7')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText8"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText8')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText9"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText9')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <div class="flex items-center gap-2 bg-gray-50 p-2 rounded-lg">
                  <h6
                    id="likersText10"
                    class="m-0 whitespace-pre-wrap text-sm"
                  ></h6>
                  <button
                    onclick="copyLikersText('likersText10')"
                    class="bg-blue-100 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors"
                  >
                    Copy
                  </button>
                </div>
                <!-- Repeat similar structure for other likersText elements -->
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div class="space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-md">
              <h2 class="text-xl font-semibold mb-4">Top Likers</h2>
              <div class="h-[300px] relative">
                <canvas id="likesChart"></canvas>
              </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <h2 class="text-xl font-semibold mb-4">Top Interactive Users</h2>
              <div class="h-[300px] relative">
                <canvas id="interactionsChart"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom Row -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-xl font-semibold mb-4">Recent Gifters</h2>
            <div id="gifters" class="h-[300px] overflow-y-auto space-y-2"></div>
          </div>

          <div class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-xl font-semibold mb-4">Recent Followers</h2>
            <div
              id="followers"
              class="h-[300px] overflow-y-auto space-y-2"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <script src="dashboard.js"></script>
  </body>
</html>
